= DataSense
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:keywords: anypoint studio, datasense, metadata, meta data, query metadata, dsql, data sense query language

DataSense is a feature of Anypoint Studio. It uses the Mule Event metadata to facilitate application design. Rather than forcing you to manually discover information about the data your internal and external resources employ, Anypoint Studio proactively acquires Mule Event's information such as data type and structure to prescribe how to accurately map or use this data in your application.

Understanding how your components use metadata in a flow is key, for example, to achieve reliability by early detection of errors while designing your Mule project, or to achieve reusability by realizing whenever a component requires metadata that is not being exposed to it within its scope.

== Using Datasense to Map Data

Consider a flow in which you include an Anypoint Connector preceded or followed by a Transform Message component. The Mule runtime engine uses the working connection to the resource to retrieve and supply to DataWeave metadata about the payload and properties, saving you the effort of manually inspecting the Mule event's structure.

For example, imagine that you need to connect your organization's Salesforce account to Slack to notify your team about a new opportunity. To accomplish this, you can drop both Salesforce and Slack connectors on your Studio canvas and configure them to connect to your organization's accounts. Then, you can drop a Transform Message component between the connectors. Mule automatically captures the data type and structure information from each provider and prescribes the input and output for your data mapping. With this prescription in place, you can configure the mapping, populating the DataWeave code.

image::datasense-perceptive-flow-design-concept-cf42d.png[]

== Using Datasense for Autocomplete

Imagine that you are obtaining status update data from the Slack connector and you want to log the message you are sending to Slack, but you aren't familiar with the property names used by this connector. Instead of referring to Slack documentation, you can insert a Logger message processor after the Slack connector and begin to type in it, which activate autocomplete. For example, if you type `#[payload.` in and then press `ctrl + space bar`, you get a list of all the properties and methods associated with that payload, including the properties returned by your request to the Slack connector.

image::payload-autocomplete.png[]

== When to Manually Define Metadata?

Although all components of a Mule application allow you to manually define the metadata that they expose, your should do so only under specific circumstances. When building prescriptive and reusable components in a flow, you must determine whether to allow DataSense to automatically infer the metadata that a component expects or manually define it.

You should manually define metadata only when it is: absolutely required (for example, for a value being define by you), or most cohesive to an annotated value (for example, when metadata for a value is being used or expected by a component).

For example, flows and subflows must declare their metadata contract specifying the shape of the event you require and the shape of the event your return to the caller. If you do not specify it, output event declaration is automatically inferred from the flow content when the flow is not recursive.

On the contrary, you should not define metadata when using the Transform Message component because DataWeave defines the contract between the producer and consumer of data. In this situation, if you explicitly declare a metadata type, you mask the actual metadata type of the data coming from your Transform Message component.


== See Also

* xref:datasense-explorer.adoc[DataSense Explorer]